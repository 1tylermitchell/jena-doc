<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

  <link href="/css/jena.css" rel="stylesheet" type="text/css">

  <title>Apache Jena - Tutorial SPARQL - A primeira consulta SPARQL</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="/js/jena-navigation.js" type="text/javascript"></script>
</head>

<body>
  <div id="header">
    <div id="logoblock">
    <img alt="Apache Jena" src="/images/jena-logo/jena-logo-small.png"/>
    </div>

    <div id="titleblock">
      <h1 class="title">Apache Jena</h1>
      <div id="topmenu" class="tabbar round-10">
        <ul>
        <li class="round-top-8"><a class="round-top-8" href="/index.html" id="home_menu">Home</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/help_and_support/index.html">Support</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/getting_started/index.html">Getting started</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/tutorials/index.html">Tutorials</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/documentation/index.html">Documentation</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div id="navigation" class="clear">
  <h1 id="quick-links">Quick links</h1>
<ul>
<li><a href="/index.html">Home</a></li>
<li><a href="/download/index.html">Downloads</a></li>
<li><a href="/help_and_support/index.html">Help and support</a></li>
<li><a href="/help_and_support/bugs_and_suggestions.html">Report a bug</a></li>
<li><a href="/about_jena/roadmap.html">Roadmap</a></li>
<li><a href="/getting_involved/index.html">Getting involved</a></li>
<li><a href="/documentation/">Documentation</a></li>
</ul>
<h1 id="about-jena">About Jena</h1>
<ul>
<li><a href="/index.html">Home</a></li>
<li><a href="/about_jena/about.html">About Jena</a></li>
<li><a href="/about_jena/architecture.html">Architecture</a></li>
<li><a href="/about_jena/roadmap.html">Roadmap</a></li>
<li><a href="/about_jena/team.html">Project team</a></li>
<li><a href="/about_jena/contributions.html">Related projects</a></li>
</ul>
<h1 id="download">Download</h1>
<ul>
<li><a href="/download/index.html">Downloading Jena</a></li>
<li><a href="/download/maven.html">Using Maven</a></li>
<li><a href="/download/osgi.html">Using OSGi</a></li>
</ul>
<h1 id="help-and-support">Help and support</h1>
<ul>
<li><a href="/help_and_support/index.html">Getting help</a></li>
<li><a href="/help_and_support/bugs_and_suggestions.html">Bugs and suggestions</a></li>
</ul>
<h1 id="getting-started">Getting Started</h1>
<ul>
<li><a href="/getting_started/index.html">A first Jena project</a></li>
<li><a href="/getting_started/rdf_api.html">RDF API overview</a></li>
<li><a href="/getting_started/sparql.html">Querying RDF with SPARQL</a></li>
<li><a href="/getting_started/fuseki.html">Serving RDF over HTTP</a></li>
<li><a href="/getting_started/tell_me_how.html">Tell me how to ...</a></li>
</ul>
<h1 id="tutorials">Tutorials</h1>
<ul>
<li><a href="/tutorials/index.html">Tutorials index</a></li>
<li><a href="/tutorials/rdf_api.html">RDF tutorial</a></li>
<li><a href="/tutorials/sparql.html">SPARQL queries</a></li>
<li><a href="/tutorials/using_jena_with_eclipse.html">Using Jena with Eclipse</a></li>
</ul>
<h1 id="documentation">Documentation</h1>
<ul>
<li><a href="/documentation/index.html">Overview</a></li>
<li><a href="/documentation/javadoc/">Javadoc</a></li>
<li><a href="/documentation/rdf/index.html">RDF</a></li>
<li><a href="/documentation/io/index.html">I/O</a></li>
<li><a href="/documentation/query/index.html">SPARQL (ARQ)</a><ul>
<li><a href="/documentation/query/app_api.html">Application API</a></li>
<li><a href="/documentation/query/cmds.html">Command line utilities</a></li>
</ul>
</li>
<li><a href="/documentation/query/text-query.html">Text Search</a></li>
<li><a href="/documentation/tdb/index.html">TDB</a><ul>
<li><a href="/documentation/tdb/tdb_transactions.html">API for Transactions</a></li>
<li><a href="/documentation/tdb/assembler.html">Dataset Assembler</a></li>
</ul>
</li>
<li><a href="/documentation/serving_data/index.html">Fuseki: Serving Data</a></li>
<li><a href="/documentation/ontology/index.html">Ontology</a></li>
<li><a href="/documentation/inference/index.html">Inference</a></li>
<li><a href="/documentation/assembler/index.html">Assembler</a><ul>
<li><a href="/documentation/assembler/assembler-howto.html">Assembler how-to</a></li>
<li><a href="/documentation/assembler/inside-assemblers.html">Inside assemblers</a></li>
</ul>
</li>
<li><a href="/documentation/sdb/index.html">SDB</a></li>
<li><a href="/documentation/notes/index.html">Notes</a><ul>
<li><a href="/documentation/notes/concurrency-howto.html">Concurrency how-to</a></li>
<li><a href="/documentation/notes/event-handler-howto.html">Event handler how-to</a></li>
<li><a href="/documentation/notes/file-manager.html">File manager how-to</a></li>
<li><a href="/documentation/notes/model-factory.html">Model factory how-to</a></li>
<li><a href="/documentation/notes/rdf-frames.html">RDF frames</a></li>
<li><a href="/documentation/notes/reification.html">Reification how-to</a></li>
<li><a href="/documentation/notes/typed-literals.html">Typed literals how-to</a></li>
<li><a href="/documentation/notes/iri.html">Support for IRI's</a></li>
<li><a href="/documentation/notes/sse.html">SSE</a></li>
</ul>
</li>
<li><a href="/documentation/tools/index.html">Tools</a><ul>
<li><a href="/documentation/tools/schemagen.html">schemagen</a></li>
<li><a href="/documentation/tools/eyeball-getting-started.html">eyeball</a></li>
</ul>
</li>
</ul>
<h1 id="getting-involved">Getting Involved</h1>
<ul>
<li><a href="/getting_involved/index.html">Contributing to Jena</a><ul>
<li><a href="/getting_involved/reviewing_contributions.html">Reviewing Contributions</a></li>
</ul>
</li>
</ul>
<h1 id="asf-links">ASF links</h1>
<ul>
<li><a href="http://www.apache.org">Apache Software Foundation</a></li>
<li><a href="http://www.apache.org/licenses/LICENSE-2.0">License</a></li>
<li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
<li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
<li><a href="http://www.apache.org/security/">Security</a></li>
</ul>
  </div>

  <div id="content">
    <h1 class="title">Tutorial SPARQL - A primeira consulta SPARQL</h1>
    <p>Nesta sessão, vamos olhar para a primeira consulta simples e mostrar como executá-la em Jena.</p>
<h2 id="o-hello-world-de-consultas">O "hello world" de consultas</h2>
<p>O arquivo "<a href="sparql_data/q1.rq">q1.rq</a>" contem a seguinte consulta:</p>
<div class="codehilite"><pre><span class="n">SELECT</span> <span class="o">?</span><span class="n">x</span>
<span class="n">WHERE</span> <span class="p">{</span> <span class="o">?</span><span class="n">x</span>  <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.w3.org/2001/vcard-rdf/3.0#FN&gt;  &quot;John Smith&quot; }</span>
</pre></div>


<p>executando esta consulta com a aplicação de consultas em linhas de comando:</p>
<div class="codehilite"><pre><span class="o">---------------------------------</span>
<span class="o">|</span> <span class="n">x</span>                             <span class="o">|</span>
<span class="o">=================================</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//somewhere/JohnSmith/&gt; |</span>
<span class="o">---------------------------------</span>
</pre></div>


<p>Isso funciona casando o padrão da tripla na clausula <code>WHERE</code> contra as triplas no grafo RDF. O predicado e o objeto da tripla são valores fixos, então o padrão vai casar somente triplas com estes valores. O sujeito é a variável, e não há outras restrições para a variável. O padrão casa qualquer tripla com aquele predicado e aquele objeto, e isso casa com soluções para <code>x</code>.</p>
<p>O item entre  &lt;> é a URI (atualmente, é uma IRI) e o item entre "" é uma literal. Assim como Turtle, N3 ou N-Triplas, literais tipadas são escritas com \^\^e tags de linguagem podem ser adicionadas com @.</p>
<p>?x é uma variável chamada x. A ? não faz parte do nome e por conta disso não aparece nos resultados.</p>
<p>Há um casamento. A consulta retorna o casamento na variável x da consulta. A saída mostrada foi obtida usando uma das aplicações de ARQ em linhas de comando.</p>
<h2 id="executando-a-consulta">Executando a consulta</h2>
<p>Há <a href="/documentation/query/cmds.html">scripts de ajuda</a> nos diretórios de  ARQ <code>bat/</code> e
<code>bin/</code> de sua distribuição. Eles podem não estar na distribuição do Jena. Você deve checar esses scripts antes de usá-los.</p>
<h3 id="instalacao-no-windows">Instalação no Windows</h3>
<p>Aponte a variável de ambiente <code>ARQROOT</code> para a localização do arquivo na distribuição do ARQ.</p>
<div class="codehilite"><pre><span class="n">set</span> <span class="n">ARQROOT</span><span class="o">=</span><span class="n">c</span><span class="o">:</span><span class="err">\</span><span class="n">MyProjects</span><span class="err">\</span><span class="n">ARQ</span>
</pre></div>


<p>A distribuição normalmente contém o número da versão no nome do diretório.</p>
<p>No diretório do ARQ, execute:</p>
<div class="codehilite"><pre><span class="n">bat</span><span class="err">\</span><span class="n">sparql</span><span class="p">.</span><span class="n">bat</span> <span class="o">--</span><span class="n">data</span><span class="o">=</span><span class="n">doc</span><span class="err">\</span><span class="n">Tutorial</span><span class="err">\</span><span class="n">vc</span><span class="o">-</span><span class="n">db</span><span class="o">-</span><span class="mf">1.</span><span class="n">rdf</span> <span class="o">--</span><span class="n">query</span><span class="o">=</span><span class="n">doc</span><span class="err">\</span><span class="n">Tutorial</span><span class="err">\</span><span class="n">q1</span><span class="p">.</span><span class="n">rq</span>
</pre></div>


<p>Você pode simplesmente colocar o diretório <code>bat/</code> no seu classpath ou copiar os programas lá. Todos eles dependem de ARQROOT.</p>
<h3 id="scripts-bash-para-linuxcyquinunix">scripts bash para Linux/Cyquin/Unix</h3>
<p>Aponte a variável de ambiente <code>ARQROOT</code> para a localização do arquivo na distribuição do ARQ.</p>
<div class="codehilite"><pre><span class="n">export</span> <span class="n">ARQROOT</span><span class="o">=</span><span class="err">$</span><span class="n">HOME</span><span class="o">/</span><span class="n">MyProjects</span><span class="o">/</span><span class="n">ARQ</span>
</pre></div>


<p>A distribuição normalmente contém o número da versão no nome do diretório.</p>
<p>No diretório do ARQ, execute:</p>
<div class="codehilite"><pre><span class="n">bin</span><span class="o">/</span><span class="n">sparql</span> <span class="o">--</span><span class="n">data</span><span class="o">=</span><span class="n">doc</span><span class="o">/</span><span class="n">Tutorial</span><span class="o">/</span><span class="n">vc</span><span class="o">-</span><span class="n">db</span><span class="o">-</span><span class="mf">1.</span><span class="n">rdf</span> <span class="o">--</span><span class="n">query</span><span class="o">=</span><span class="n">doc</span><span class="o">/</span><span class="n">Tutorial</span><span class="o">/</span><span class="n">q1</span><span class="p">.</span><span class="n">rq</span>
</pre></div>


<p>Você pode simplesmente colocar o diretório <code>bin/</code> no seu classpath ou copiar os programas lá. Todos eles dependem de ARQROOT.</p>
<p><a href="http://www.cygwin.com/">Cygwin</a> é um ambiente Linux para Windows.</p>
<h3 id="usando-a-aplicacao-de-linhas-de-comando-de-jena-diretamente">Usando a aplicação de linhas de comando de Jena diretamente</h3>
<p>Você precisará modificar o classpath para incluir <em>todos</em> os arquivos jar do diretório <code>lib/</code> do ARQ.</p>
<p>Por exemplo, no Windows:</p>
<div class="codehilite"><pre><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">antlr</span><span class="o">-</span><span class="mf">2.7.5</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">arq</span><span class="o">-</span><span class="n">extra</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">arq</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">commons</span><span class="o">-</span><span class="n">logging</span><span class="o">-</span><span class="mf">1.1</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">concurrent</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">icu4j_3_4</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">iri</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">jena</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">jenatest</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">json</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">junit</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">log4j</span><span class="o">-</span><span class="mf">1.2.12</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">lucene</span><span class="o">-</span><span class="n">core</span><span class="o">-</span><span class="mf">2.2.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">stax</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="mf">1.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span>
<span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">wstx</span><span class="o">-</span><span class="n">asl</span><span class="o">-</span><span class="mf">3.0.0</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">xercesImpl</span><span class="p">.</span><span class="n">jar</span><span class="p">;</span><span class="n">ARQdir</span><span class="err">\</span><span class="n">lib</span><span class="err">\</span><span class="n">xml</span><span class="o">-</span><span class="n">apis</span><span class="p">.</span><span class="n">jar</span>
</pre></div>


<p>onde <code>&lt;i&gt;ARQdir&lt;/i&gt;</code> é onde você descompactou o ARQ. Isso tudo precisa estar numa linha.</p>
<p>Os nomes dos arquivos JAR muitas vezes mudam e novos arquivos são adicionados – verifique essa lista com sua versão do ARQ.</p>
<p>Os comandos estão no pacote ARQ.</p>
<p><a href="sparql_basic_patterns_pt.html">Próximo: Padrões Básicos</a></p>
  </div>

  <div id="footer">
    <div class="copyright">
      <p>
        Copyright &copy; 2011&ndash;2013 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        <br />
        Apache Jena, Jena, the Apache Jena project logo,
        Apache and the Apache feather logos are trademarks of The Apache Software Foundation.
      </p>
    </div>
  </div>

</body>
</html>
