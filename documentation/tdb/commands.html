<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

  <link href="/jena-doc/css/jena.css" rel="stylesheet" type="text/css">

  <title>Apache Jena - TDB Command-line Utilities</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="/js/jena-navigation.js" type="text/javascript"></script>
</head>

<body>
  <div id="header">
    <div id="logoblock">
    <img alt="Apache Jena" src="/images/jena-logo/jena-logo-small.png"/>
    </div>

    <div id="titleblock">
      <h1 class="title">Apache Jena</h1>
      <div id="topmenu" class="tabbar round-10">
        <ul>
        <li class="round-top-8"><a class="round-top-8" href="/jena-doc/index.html" id="home_menu">Home</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/jena-doc/help_and_support/index.html">Support</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/jena-doc/getting_started/index.html">Getting started</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/jena-doc/tutorials/index.html">Tutorials</a></li>
        <li class="round-top-8"><a class="round-top-8" href="/jena-doc/documentation/index.html">Documentation</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div id="navigation" class="clear">
  <h1 id="quick-links">Quick links</h1>
<ul>
<li><a href="/jena-doc/index.html">Home</a></li>
<li><a href="/jena-doc/download/index.html">Downloads</a></li>
<li><a href="/jena-doc/help_and_support/index.html">Help and support</a></li>
<li><a href="/jena-doc/help_and_support/bugs_and_suggestions.html">Report a bug</a></li>
<li><a href="/jena-doc/about_jena/roadmap.html">Roadmap</a></li>
<li><a href="/jena-doc/getting_involved/index.html">Getting involved</a></li>
<li><a href="/jena-doc/documentation/">Documentation</a></li>
</ul>
<h1 id="about-jena">About Jena</h1>
<ul>
<li><a href="/jena-doc/index.html">Home</a></li>
<li><a href="/jena-doc/about_jena/about.html">About Jena</a></li>
<li><a href="/jena-doc/about_jena/architecture.html">Architecture</a></li>
<li><a href="/jena-doc/about_jena/roadmap.html">Roadmap</a></li>
<li><a href="/jena-doc/about_jena/team.html">Project team</a></li>
<li><a href="/jena-doc/about_jena/contributions.html">Related projects</a></li>
</ul>
<h1 id="download">Download</h1>
<ul>
<li><a href="/jena-doc/download/index.html">Downloading Jena</a></li>
<li><a href="/jena-doc/download/maven.html">Using Maven</a></li>
<li><a href="/jena-doc/download/osgi.html">Using OSGi</a></li>
</ul>
<h1 id="help-and-support">Help and support</h1>
<ul>
<li><a href="/jena-doc/help_and_support/index.html">Getting help</a></li>
<li><a href="/jena-doc/help_and_support/bugs_and_suggestions.html">Bugs and suggestions</a></li>
</ul>
<h1 id="getting-started">Getting Started</h1>
<ul>
<li><a href="/jena-doc/getting_started/index.html">A first Jena project</a></li>
<li><a href="/jena-doc/getting_started/rdf_api.html">RDF API overview</a></li>
<li><a href="/jena-doc/getting_started/sparql.html">Querying RDF with SPARQL</a></li>
<li><a href="/jena-doc/getting_started/fuseki.html">Serving RDF over HTTP</a></li>
<li><a href="/jena-doc/getting_started/tell_me_how.html">Tell me how to ...</a></li>
</ul>
<h1 id="tutorials">Tutorials</h1>
<ul>
<li><a href="/jena-doc/tutorials/index.html">Tutorials index</a></li>
<li><a href="/jena-doc/tutorials/rdf_api.html">RDF tutorial</a></li>
<li><a href="/jena-doc/tutorials/sparql.html">SPARQL queries</a></li>
<li><a href="/jena-doc/tutorials/using_jena_with_eclipse.html">Using Jena with Eclipse</a></li>
</ul>
<h1 id="documentation">Documentation</h1>
<ul>
<li><a href="/jena-doc/documentation/index.html">Overview</a></li>
<li><a href="/jena-doc/documentation/javadoc/">Javadoc</a></li>
<li><a href="/jena-doc/documentation/rdf/index.html">RDF</a></li>
<li><a href="/jena-doc/documentation/io/index.html">I/O</a></li>
<li><a href="/jena-doc/documentation/query/index.html">SPARQL (ARQ)</a><ul>
<li><a href="/jena-doc/documentation/query/app_api.html">Application API</a></li>
<li><a href="/jena-doc/documentation/query/cmds.html">Command line utilities</a></li>
</ul>
</li>
<li><a href="/jena-doc/documentation/query/text-query.html">Text Search</a></li>
<li><a href="/jena-doc/documentation/tdb/index.html">TDB</a><ul>
<li><a href="/jena-doc/documentation/tdb/tdb_transactions.html">API for Transactions</a></li>
<li><a href="/jena-doc/documentation/tdb/assembler.html">Dataset Assembler</a></li>
</ul>
</li>
<li><a href="/jena-doc/documentation/serving_data/index.html">Fuseki: Serving Data</a></li>
<li><a href="/jena-doc/documentation/ontology/index.html">Ontology</a></li>
<li><a href="/jena-doc/documentation/inference/index.html">Inference</a></li>
<li><a href="/jena-doc/documentation/assembler/index.html">Assembler</a><ul>
<li><a href="/jena-doc/documentation/assembler/assembler-howto.html">Assembler how-to</a></li>
<li><a href="/jena-doc/documentation/assembler/inside-assemblers.html">Inside assemblers</a></li>
</ul>
</li>
<li><a href="/jena-doc/documentation/sdb/index.html">SDB</a></li>
<li><a href="/jena-doc/documentation/notes/index.html">Notes</a><ul>
<li><a href="/jena-doc/documentation/notes/concurrency-howto.html">Concurrency how-to</a></li>
<li><a href="/jena-doc/documentation/notes/event-handler-howto.html">Event handler how-to</a></li>
<li><a href="/jena-doc/documentation/notes/file-manager.html">File manager how-to</a></li>
<li><a href="/jena-doc/documentation/notes/model-factory.html">Model factory how-to</a></li>
<li><a href="/jena-doc/documentation/notes/rdf-frames.html">RDF frames</a></li>
<li><a href="/jena-doc/documentation/notes/reification.html">Reification how-to</a></li>
<li><a href="/jena-doc/documentation/notes/typed-literals.html">Typed literals how-to</a></li>
<li><a href="/jena-doc/documentation/notes/iri.html">Support for IRI's</a></li>
<li><a href="/jena-doc/documentation/notes/sse.html">SSE</a></li>
</ul>
</li>
<li><a href="/jena-doc/documentation/tools/index.html">Tools</a><ul>
<li><a href="/jena-doc/documentation/tools/schemagen.html">schemagen</a></li>
<li><a href="/jena-doc/documentation/tools/eyeball-getting-started.html">eyeball</a></li>
</ul>
</li>
</ul>
<h1 id="getting-involved">Getting Involved</h1>
<ul>
<li><a href="/jena-doc/getting_involved/index.html">Contributing to Jena</a><ul>
<li><a href="/jena-doc/getting_involved/reviewing_contributions.html">Reviewing Contributions</a></li>
</ul>
</li>
</ul>
<h1 id="asf-links">ASF links</h1>
<ul>
<li><a href="http://www.apache.org">Apache Software Foundation</a></li>
<li><a href="http://www.apache.org/licenses/LICENSE-2.0">License</a></li>
<li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
<li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
<li><a href="http://www.apache.org/security/">Security</a></li>
</ul>
  </div>

  <div id="content">
    <h1 class="title">TDB Command-line Utilities</h1>
    <h2 id="contents">Contents</h2>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#scripts">Scripts</a><ul>
<li><a href="#script-set-up-bash-scripts">Script set up - bash scripts</a></li>
<li><a href="#script-set-up-windows-bash-files">Script set up - Windows batch files</a></li>
</ul>
</li>
<li><a href="#command-line-script-arguments">Command line script arguments</a><ul>
<li><a href="#setting-options-from-the-command-line">Setting options from the command line</a></li>
</ul>
</li>
<li><a href="#tdb-commands">TDB Commands</a><ul>
<li><a href="#store-description">Store description</a></li>
<li><a href="#tdbloader">tdbloader</a></li>
<li><a href="#tdbloader2">tdbloader2</a></li>
<li><a href="#tdbquery">tdbquery</a></li>
<li><a href="#tdbdump">tdbdump</a></li>
<li><a href="#tdbstats">tdbstats</a></li>
</ul>
</li>
</ul>
<h2 id="installation">Installation</h2>
<p>From Apache Jena version <code>2.7.x</code> onwards, TDB is now installed as part of a single integrated Jena
package. There is no longer a need to install a separate TDB package to run the TDB command line
tools, or to use TDB in your Java programs. See the <a href="/jena-doc/download/">downloads</a> page for details on getting the latest Jena
release.</p>
<h2 id="scripts">Scripts</h2>
<p>From the location The directory <code>bin/</code> contains shell scripts to run the commands
from the command line. The scripts are bash scripts which should work
on Linux systems, Windows systems using <a href="http://www.cygwin.com/">Cygwin</a> and
Mac/OS systems. The directory <code>bat/</code> contains Windows batch files which
provide the same functionality for Windows systems that are not using
Cygwin.</p>
<h3 id="script-set-up-bash-scripts">Script set up - bash scripts</h3>
<p>Set the environment variable <code>JENAROOT</code> to the root of the the Jena
installation. E.g:</p>
<div class="codehilite"><pre><span class="n">export</span> <span class="n">JENAROOT</span><span class="o">=/</span><span class="n">home</span><span class="o">/</span><span class="n">somebody</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">apache</span><span class="o">-</span><span class="n">jena</span>
</pre></div>


<p>or</p>
<div class="codehilite"><pre><span class="n">export</span> <span class="n">JENAROOT</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">apache</span><span class="o">-</span><span class="n">jena</span>
</pre></div>


<p>Then set the <code>PATH</code> to include the <code>bin</code> directory:</p>
<div class="codehilite"><pre><span class="n">PATH</span><span class="o">=</span><span class="err">$</span><span class="n">JENAROOT</span><span class="o">/</span><span class="n">bin</span><span class="o">:</span><span class="err">$</span><span class="n">PATH</span>
</pre></div>


<p>This can be done in <code>.bashrc</code>, or its equivalent on Mac OS/X, to ensure that the environment
variables are always available.</p>
<h3 id="script-set-up-windows-batch-files">Script set up - Windows batch files</h3>
<p>Setting environment variables in Windows is slightly involved. You can set them
each time you start a command prompt:</p>
<div class="codehilite"><pre><span class="n">SET</span> <span class="n">JENAROOT</span><span class="o">=</span><span class="err">\</span><span class="n">Users</span><span class="err">\</span><span class="n">somebody</span><span class="err">\</span><span class="n">dev</span><span class="err">\</span><span class="n">apache</span><span class="o">-</span><span class="n">jena</span>
<span class="n">SET</span> <span class="n">PATH</span><span class="o">=%</span><span class="n">PATH</span><span class="o">%</span><span class="p">;</span><span class="o">%</span><span class="n">JENAROOT</span><span class="err">\</span><span class="n">bin</span>
</pre></div>


<p>or you can follow <a href="http://searchsystemschannel.techtarget.com/feature/Setting-Windows-7-environment-variables">this guide</a>
or one like it to set the environment variables so that they are available every
time you launch the command prompt.</p>
<h2 id="command-line-script-arguments">Command line script arguments</h2>
<p>Each command then has command-specific arguments described below.</p>
<p>All commands support <code>--help</code> to give details of named and
positional arguments.</p>
<p>There are two equivalent forms of named argument syntax:</p>
<div class="codehilite"><pre><span class="o">--</span><span class="n">arg</span><span class="o">=</span><span class="n">val</span>

<span class="o">--</span><span class="n">arg</span> <span class="n">val</span>
</pre></div>


<h3 id="setting-options-from-the-command-line">Setting options from the command line</h3>
<p>TDB has a number of
<a href="configuration.html">configuration options</a>
which can be set from the command line using:</p>
<div class="codehilite"><pre> <span class="o">--</span><span class="n">set</span> <span class="n">tdb</span><span class="o">:</span><span class="n">symbol</span><span class="o">=</span><span class="n">value</span>
</pre></div>


<p>Using tdb: is really a short hand for the URI prefix
http://jena.hpl.hp.com/TDB# so the full URI form is</p>
<div class="codehilite"><pre> <span class="o">--</span><span class="n">set</span> <span class="n">http</span><span class="o">:</span><span class="c1">//jena.hpl.hp.com/TDB#symbol=value</span>
</pre></div>


<h2 id="tdb-commands">TDB Commands</h2>
<h3 id="store-description">Store description</h3>
<p>TDB commands use an assembler description for the persistent store</p>
<div class="codehilite"><pre><span class="o">--</span><span class="n">desc</span><span class="o">=</span><span class="n">assembler</span><span class="p">.</span><span class="n">ttl</span>
<span class="o">--</span><span class="n">tdb</span><span class="o">=</span><span class="n">assembler</span><span class="p">.</span><span class="n">ttl</span>
</pre></div>


<p>or a direct reference to the directory with the index and node
files:</p>
<div class="codehilite"><pre><span class="o">--</span><span class="n">loc</span><span class="o">=</span><span class="n">DIRECTORY</span>
<span class="o">--</span><span class="n">location</span><span class="o">=</span><span class="n">DIRECTORY</span>
</pre></div>


<p>The assembler description follow the form for a dataset given in
<a href="assembler.html" title="TDB/Assembler">TDB assembler description</a> page.</p>
<p>If neither assembler file nor location is given, <code>--desc=tdb.ttl</code>
is assumed.</p>
<h3 id="tdbloader"><code>tdbloader</code></h3>
<p>Bulk loader and index builder. Performans bulk load operations more
efficiently than simply reading RDF into a TDB-back model.</p>
<h3 id="tdbloader2"><code>tdbloader2</code></h3>
<p>Bulk loader and index builder. Faster than <code>tdbloader</code> but only works
on Linux and Mac OS/X since it relies on some Unix system utilities.</p>
<p>This bulk loader can only be used to create a database. It may
overwrite existing data. It only accepts the --loc argument and a
list of files to load.</p>
<h3 id="tdbquery"><code>tdbquery</code></h3>
<p>Invoke a SPARQL query on a store. Use <code>--time</code> for timing
information. The store is attached on each run of this command so
timing includes some overhead not present in a running system.</p>
<p>Details about query execution can be obtained -- see notes on the
<a href="optimizer.html#Investigating_what_is_going_on">TDB Optimizer</a>.</p>
<h3 id="tdbdump"><code>tdbdump</code></h3>
<p>Dump the store in
<a href="http://sw.deri.org/2008/07/n-quads/">N-Quads</a>
format.</p>
<h3 id="tdbstats">tdbstats</h3>
<p>Produce a statistics for the dataset. See the
<a href="optimizer.html#Statistics_Rule_File">TDB Optimizer description.</a>.</p>
  </div>

  <div id="footer">
    <div class="copyright">
      <p>
        Copyright &copy; 2011&ndash;2013 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        <br />
        Apache Jena, Jena, the Apache Jena project logo,
        Apache and the Apache feather logos are trademarks of The Apache Software Foundation.
      </p>
    </div>
  </div>

</body>
</html>
